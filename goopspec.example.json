{
  "$schema": "./goopspec.schema.json",
  "_comment": "GoopSpec Configuration - Copy to .goopspec/config.json and customize",

  "version": "0.1.0",
  "project_name": "my-awesome-app",

  "models": {
    "_comment": "Model assignments for different agent roles. Uses provider/model format.",
    "planner": "anthropic/claude-opus-4-5",
    "executor": "anthropic/claude-sonnet-4-5",
    "verifier": "openai/gpt-5.2-codex",
    "explorer": "google/antigravity-gemini-3-flash",
    "designer": "kimi-for-coding/k2p5",
    "writer": "google/antigravity-gemini-3-pro-high",
    "tester": "anthropic/claude-sonnet-4-5",
    "overrides": {
      "_comment": "Override models for specific scenarios",
      "security_review": "openai/gpt-5.2-codex",
      "performance_audit": "anthropic/claude-opus-4-5",
      "refactor": "anthropic/claude-sonnet-4-5",
      "quick_fix": "anthropic/claude-sonnet-4-5",
      "large_project": "anthropic/claude-opus-4-5"
    }
  },

  "profiles": {
    "_comment": "Pre-configured workflow profiles for common scenarios",

    "quick_fix": {
      "_comment": "Minimal overhead for small fixes",
      "max_plans": 1,
      "parallel_execution": false,
      "enforced_task_continuation": false,
      "auto_commit": true,
      "verification_level": "basic",
      "required_skills": ["goop-core"]
    },

    "large_project": {
      "_comment": "Full workflow for complex multi-phase projects",
      "max_plans": 10,
      "parallel_execution": true,
      "parallel_max_agents": 4,
      "enforced_task_continuation": true,
      "auto_commit": false,
      "verification_level": "comprehensive",
      "enable_research": true,
      "enable_discovery": true,
      "workflow_stages": ["constitution", "specification", "clarify", "plan", "tasks", "implement"],
      "required_skills": ["goop-core", "architecture-design"]
    },

    "refactor": {
      "_comment": "Careful refactoring with test preservation",
      "max_plans": 5,
      "parallel_execution": false,
      "enforced_task_continuation": true,
      "auto_commit": false,
      "verification_level": "strict",
      "require_tests": true,
      "preserve_behavior": true,
      "required_skills": ["goop-core", "refactoring"]
    },

    "security": {
      "_comment": "Security-focused mode with audit logging",
      "max_plans": 3,
      "parallel_execution": false,
      "enforced_task_continuation": true,
      "auto_commit": false,
      "verification_level": "exhaustive",
      "enable_audit_log": true,
      "require_security_review": true,
      "required_skills": ["goop-core", "security-audit"]
    },

    "yolo": {
      "_comment": "Fully autonomous mode - use with caution",
      "auto_approve": true,
      "skip_gates": true,
      "max_prompts": 0,
      "enforced_task_continuation": true,
      "verification_level": "basic"
    }
  },

  "workflow": {
    "_comment": "Core workflow settings",
    "mode": "interactive",

    "gates": {
      "_comment": "Confirmation gates for important actions",
      "confirm_destructive": true,
      "confirm_external_services": true,
      "confirm_architectural_changes": true,
      "commit_each_task": true
    },

    "parallelization": {
      "_comment": "Parallel execution settings for wave-based execution",
      "enabled": true,
      "plan_level": true,
      "task_level": false,
      "max_concurrent_agents": 4,
      "skip_checkpoints": true
    },

    "research": {
      "_comment": "Research tool integration settings",
      "enabled": true,
      "auto_discovery": true,
      "context7_first": true,
      "exa_for_trends": true,
      "depth": "standard"
    },

    "git": {
      "_comment": "Git workflow settings",
      "commit_docs": true,
      "atomic_commits": true,
      "commit_message_style": "conventional",
      "auto_stage": false
    }
  },

  "enforced_task_continuation": {
    "_comment": "Relentless execution - keeps agent working until complete",
    "enabled": true,
    "max_prompts": 3,
    "prompt_interval": 5,
    "escalation_message": "Tasks remain incomplete. Continue working.",
    "final_message": "Maximum prompts reached. Manual intervention required."
  },

  "spec_enforcement": {
    "_comment": "Controls how strictly the agent follows the spec",
    "enabled": true,
    "strict_mode": false,
    "warn_on_deviation": true,
    "block_outside_scope": false
  },

  "checkpoints": {
    "_comment": "Checkpoint system for session recovery and state tracking",
    "enabled": true,
    "auto_save": true,
    "auto_save_interval": 10,
    "max_checkpoints": 20,
    "compress_old": true
  },

  "tools": {
    "_comment": "External tool configurations",

    "playwright": {
      "_comment": "Web testing with Playwright",
      "enabled": true,
      "headless": false,
      "viewport": { "width": 1280, "height": 720 },
      "timeout": 30000
    },

    "context7": {
      "_comment": "Documentation lookup via Context7",
      "enabled": true,
      "prefer_official_docs": true,
      "max_queries_per_session": 10
    },

    "exa": {
      "_comment": "Web search via Exa",
      "enabled": true,
      "num_results": 8,
      "type": "auto",
      "livecrawl": "fallback"
    }
  },

  "output": {
    "_comment": "Output and display settings",
    "ascii_art": true,
    "verbose_logging": true,
    "show_token_usage": true,
    "show_model_selection": true,
    "core_value": "Build reliable software through structured planning"
  },

  "boundaries": {
    "_comment": "Three-tier boundary system: Always/Ask/Never",

    "always": [
      "Run tests before commits",
      "Run linter before commits",
      "Update ADL.md with architectural decisions",
      "Follow project conventions from CONSTITUTION.md"
    ],

    "ask_first": [
      "Modify database schemas",
      "Add new dependencies",
      "Change authentication mechanisms",
      "Delete files",
      "Modify configuration files",
      "Make architectural changes"
    ],

    "never": [
      "Commit secrets or API keys",
      "Ignore test failures",
      "Skip security checks in security mode",
      "Modify files outside spec scope (in strict mode)",
      "Use deprecated APIs without verification"
    ]
  },

  "advanced": {
    "_comment": "Advanced features and experimental settings",

    "self_healing": true,
    "agent_resurrection": true,
    "track_deviations": true,
    "deviation_threshold": "normal",

    "context_management": {
      "_comment": "Context window management for long sessions",
      "max_context_usage_percent": 70,
      "auto_summarize": true,
      "fresh_context_threshold": 50
    },

    "deviation_rules": {
      "_comment": "Four-rule deviation system for handling unexpected issues",
      "enabled": true,
      "strictness": "normal",
      "autoFix": ["bug", "critical", "blocker"],
      "askFirst": ["architecture"]
    }
  }
}
